#!/bin/bash
ECOS_URL="https://raw.githubusercontent.com/murkl/ecos/main/ecos"

BIN_DIR="$HOME/.local/bin"
ECOS_CORE="$BIN_DIR/ecos"

mkdir -p "$BIN_DIR"

# Download new version
if ! curl -s -L "$ECOS_URL" >"$ECOS_CORE"; then
    echo "ERROR: ECOS CORE DOWNLOAD"
    exit 1
fi
if ! chmod +x "$ECOS_CORE"; then
    echo "ERROR: ECOS CORE NOT FOUND"
    exit 1
fi

# Update
"$ECOS_CORE" --update-system